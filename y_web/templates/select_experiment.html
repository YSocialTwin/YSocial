<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta http-equiv="x-ua-compatible" content="ie=edge"/>

    <title>Y Social | Select Experiment</title>
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='assets/img/favicon.png') }}"/>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:600,700,800,900" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,500" rel="stylesheet"/>
    
    <!-- Core CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/app.css') }}"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/core.css') }}"/>
</head>

<body class="is-white">
    <!-- Pageloader -->
    <div class="pageloader"></div>
    <div class="infraloader is-active"></div>

    <div class="login-wrapper">
        <div class="login-wrapper columns is-gapless">
            <!--Left Side (Desktop Only)-->
            <div class="column is-6 is-hidden-mobile hero-banner">
                <div class="hero is-fullheight is-login">
                    <div class="hero-body">
                        <div class="container">
                            <div class="left-caption" style="padding: 2rem;">
                                <h2 style="font-size: 2.5rem; font-weight: 700; margin-bottom: 1rem; color: white;">Y Social</h2>
                                <h4 style="font-size: 1.25rem; font-weight: 400; color: rgba(255, 255, 255, 0.9); line-height: 1.6;">Select an experiment to join</h4>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!--Right Side-->
            <div class="column is-6">
                <div class="hero form-hero is-fullheight">
                    <!--Logo-->
                    <div class="logo-wrap">
                        <div class="wrap-inner">
                            <img src="{{ url_for('static', filename='assets/img/vector/logo/Ysocial_I_white.png') }}" alt=""/>
                        </div>
                    </div>
                    
                    <!--Experiment Selection Form-->
                    <div class="hero-body">
                        <div class="form-wrapper">
                            <h3 style="text-align: center; margin-bottom: 2rem; font-size: 1.5rem; font-weight: 600;">
                                Select an Experiment
                            </h3>
                            
                            {% with messages = get_flashed_messages() %}
                            {% if messages %}
                            <div class="notification is-danger">
                                {{ messages[0] }}
                            </div>
                            {% endif %}
                            {% endwith %}
                            
                            <form method="POST" action="/select_experiment" style="width: 100%; max-width: 400px;">
                                <input type="hidden" name="auth_token" value="{{ auth_token }}">
                                
                                <div class="field">
                                    <label class="label">Available Experiments</label>
                                    <div class="control">
                                        <div class="select is-fullwidth">
                                            <select name="experiment_id" required style="width: 100%; padding: 0.75rem; border-radius: 8px; border: 1px solid #e0e0e0; font-size: 1rem;">
                                                <option value="">-- Select an experiment --</option>
                                                {% for exp in experiments %}
                                                <option value="{{ exp.idexp }}">{{ exp.exp_name }}</option>
                                                {% endfor %}
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="field" style="margin-top: 2rem;">
                                    <div class="control">
                                        <button class="button is-solid primary-button raised is-rounded is-fullwidth" 
                                                style="padding: 0.875rem 1.5rem; border-radius: 8px; font-size: 1rem; font-weight: 600;">
                                            Join Experiment
                                        </button>
                                    </div>
                                </div>
                            </form>
                            
                            <div class="section" style="margin-top: 1rem;">
                                <div class="has-text-centered">
                                    <a href="{{ url_for('auth.login') }}">Back to Login</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Concatenated js plugins and jQuery -->
    <script src="{{ url_for('static', filename='assets/js/app.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/global.js') }}"></script>
</body>
</html>
