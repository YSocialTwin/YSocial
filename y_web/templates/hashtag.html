{%  include "header.html" %}

<div class="view-wrapper">
    <!-- Container -->
    <div id="main-feed" class="container">

        <!-- Content placeholders at page load -->
        <!-- this holds the animated content placeholders that show up before content -->
        <div id="shadow-dom" class="view-wrap">
            <div class="columns">
                <div class="column is-3">
                    <!-- Placeload element -->
                    <div class="placeload weather-widget-placeload">
                        <div class="header">
                            <div class="inner-wrap">
                                <div class="img loads"></div>
                                <div class="content-shape loads"></div>
                                <div class="content-shape loads"></div>
                            </div>
                        </div>
                        <div class="body">
                            <div class="inner-wrap">
                                <div class="rect loads"></div>
                                <div class="content-shape loads"></div>
                                <div class="content-shape loads"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Placeload element -->
                    <div class="placeload list-placeload">
                        <div class="header">
                            <div class="content-shape loads"></div>
                        </div>
                        <div class="body">
                            <div class="flex-block">
                                <div class="img loads"></div>
                                <div class="inner-wrap">
                                    <div class="content-shape loads"></div>
                                    <div class="content-shape loads"></div>
                                </div>
                            </div>
                            <div class="flex-block">
                                <div class="img loads"></div>
                                <div class="inner-wrap">
                                    <div class="content-shape loads"></div>
                                    <div class="content-shape loads"></div>
                                </div>
                            </div>
                            <div class="flex-block">
                                <div class="img loads"></div>
                                <div class="inner-wrap">
                                    <div class="content-shape loads"></div>
                                    <div class="content-shape loads"></div>
                                </div>
                            </div>
                            <div class="flex-block">
                                <div class="img loads"></div>
                                <div class="inner-wrap">
                                    <div class="content-shape loads"></div>
                                    <div class="content-shape loads"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="column is-6">
                    <!-- Placeload element -->
                    <div class="placeload compose-placeload">
                        <div class="header">
                            <div class="content-shape is-lg loads"></div>
                            <div class="content-shape is-lg loads"></div>
                            <div class="content-shape is-lg loads"></div>
                        </div>
                        <div class="body">
                            <div class="img loads"></div>
                            <div class="inner-wrap">
                                <div class="content-shape loads"></div>
                                <div class="content-shape loads"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Placeload element -->
                    <div class="placeload post-placeload">
                        <div class="header">
                            <div class="img loads"></div>
                            <div class="header-content">
                                <div class="content-shape loads"></div>
                                <div class="content-shape loads"></div>
                            </div>
                        </div>
                        <div class="image-placeholder loads"></div>
                        <div class="placeholder-footer">
                            <div class="footer-block">
                                <div class="img loads"></div>
                                <div class="inner-wrap">
                                    <div class="content-shape loads"></div>
                                    <div class="content-shape loads"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Placeload element -->
                    <div class="placeload post-placeload">
                        <div class="header">
                            <div class="img loads"></div>
                            <div class="header-content">
                                <div class="content-shape loads"></div>
                                <div class="content-shape loads"></div>
                            </div>
                        </div>
                        <div class="image-placeholder loads"></div>
                        <div class="placeholder-footer">
                            <div class="footer-block">
                                <div class="img loads"></div>
                                <div class="inner-wrap">
                                    <div class="content-shape loads"></div>
                                    <div class="content-shape loads"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Placeload element -->
                    <div class="placeload post-placeload">
                        <div class="header">
                            <div class="img loads"></div>
                            <div class="header-content">
                                <div class="content-shape loads"></div>
                                <div class="content-shape loads"></div>
                            </div>
                        </div>
                        <div class="image-placeholder loads"></div>
                        <div class="placeholder-footer">
                            <div class="footer-block">
                                <div class="img loads"></div>
                                <div class="inner-wrap">
                                    <div class="content-shape loads"></div>
                                    <div class="content-shape loads"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Placeload element -->
                    <div class="placeload post-placeload">
                        <div class="header">
                            <div class="img loads"></div>
                            <div class="header-content">
                                <div class="content-shape loads"></div>
                                <div class="content-shape loads"></div>
                            </div>
                        </div>
                        <div class="image-placeholder loads"></div>
                        <div class="placeholder-footer">
                            <div class="footer-block">
                                <div class="img loads"></div>
                                <div class="inner-wrap">
                                    <div class="content-shape loads"></div>
                                    <div class="content-shape loads"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="column is-3">
                    <!-- Placeload element -->
                    <div class="placeload stories-placeload">
                        <div class="header">
                            <div class="content-shape loads"></div>
                        </div>
                        <div class="body">
                            <div class="flex-block">
                                <div class="img loads"></div>
                                <div class="inner-wrap">
                                    <div class="content-shape loads"></div>
                                    <div class="content-shape loads"></div>
                                </div>
                            </div>
                            <div class="flex-block">
                                <div class="img loads"></div>
                                <div class="inner-wrap">
                                    <div class="content-shape loads"></div>
                                    <div class="content-shape loads"></div>
                                </div>
                            </div>
                            <div class="flex-block">
                                <div class="img loads"></div>
                                <div class="inner-wrap">
                                    <div class="content-shape loads"></div>
                                    <div class="content-shape loads"></div>
                                </div>
                            </div>
                            <div class="flex-block">
                                <div class="img loads"></div>
                                <div class="inner-wrap">
                                    <div class="content-shape loads"></div>
                                    <div class="content-shape loads"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Placeload element -->
                    <div class="placeload mini-widget-placeload">
                        <div class="body">
                            <div class="inner-wrap">
                                <div class="img loads"></div>
                                <div class="content-shape loads"></div>
                                <div class="content-shape loads"></div>
                                <div class="content-shape loads"></div>
                                <div class="button-shape loads"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Placeload element -->
                    <div class="placeload list-placeload">
                        <div class="header">
                            <div class="content-shape loads"></div>
                        </div>
                        <div class="body">
                            <div class="flex-block">
                                <div class="img loads"></div>
                                <div class="inner-wrap">
                                    <div class="content-shape loads"></div>
                                    <div class="content-shape loads"></div>
                                </div>
                            </div>
                            <div class="flex-block">
                                <div class="img loads"></div>
                                <div class="inner-wrap">
                                    <div class="content-shape loads"></div>
                                    <div class="content-shape loads"></div>
                                </div>
                            </div>
                            <div class="flex-block">
                                <div class="img loads"></div>
                                <div class="inner-wrap">
                                    <div class="content-shape loads"></div>
                                    <div class="content-shape loads"></div>
                                </div>
                            </div>
                            <div class="flex-block">
                                <div class="img loads"></div>
                                <div class="inner-wrap">
                                    <div class="content-shape loads"></div>
                                    <div class="content-shape loads"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Feed page main wrapper -->
        <div id="profile-main" class="view-wrap is-headless">
            <!-- <div id="activity-feed" class="view-wrap true-dom is-hidden"> -->
            <div class="columns" style="margin: 0 -0.5rem;">
                <!-- Left side column -->
                <div class="column is-3 is-hidden-mobile" style="padding: 0 0.5rem;">
                    <!-- Weather widget -->
                    <!-- /partials/widgets/weather-widget.html -->
                    <div
                            class="card is-weather-card has-background-image"
                            data-background="{{ url_for('static', filename='assets/img/illustrations/cards/weather-bg.svg') }}"
                            style="margin-bottom: 1.5rem; border-radius: 12px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); overflow: hidden;"
                    >
                        <div class="card-heading">

                        </div>
                        <div class="card-body" style="padding: 1.5rem;">
                            <div class="temperature">
                                <span>{{ username }}</span>
                            </div>
                            <div style="text-align: center">

                                    <a href="{{ url_for('main.profile')}}/{{ user_id }}/recent/1">
                                     <div class="avatar">
                                        <img
                                                id="user-avatar"
                                                class="avatar-image"
                                                {% if profile_pic =="" %}
                                                    data-demo-src="{{ url_for('static', filename='assets/img/users/'+ str(user_id) +'.png') }}"
                                                {% else %}
                                                    data-demo-src="{{ profile_pic }}"
                                                {% endif %}
                                                alt=""
                                                width="50%"

                                        />

                                     </div>



                                </a>

                            </div>

                            <div class="current-date-location has-text-centered">
                                <span class="location"></span>
                                <span class="date" id="date"></span>
                                <script>
                                    // Get current date and time
                                    var now = new Date();
                                    var datetime = now.toLocaleString();

                                    // Insert date and time into HTML
                                    document.getElementById("date").innerHTML = datetime;
                                </script>


                            </div>
                        </div>

                    </div>


                    <div class="card" style="margin-bottom: 1.5rem; border-radius: 12px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); overflow: hidden;">
                        <div class="card-heading is-bordered" style="padding: 1rem;">
                            <h4 style="margin: 0; font-weight: 600;">Trending Hashtags</h4>

                        </div>
                        <div class="card-body no-padding">
                            <!-- Hashtag block -->
                            {% for ht in trending_ht %}
                            <div class="story-block" style="padding: 0.75rem 1rem; border-bottom: 1px solid #f0f0f0; transition: background-color 0.2s ease;">
                                <div class="story-meta" style="display: flex; justify-content: space-between; align-items: center;">
                                    <span style="color: #7a7a7a; font-size: 0.9rem;">({{ ht['count'] }})</span>
                                    <span><a href="/hashtag_posts/{{ ht['id'] }}/1" style="font-weight: 500; color: #3273dc; text-decoration: none; transition: color 0.2s ease;">{{ ht['hashtag'] }}</a></span>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>

                </div>
                <!-- /Left side column -->

                <!-- Middle column -->
                <div class="column is-8" style="padding: 0 0.5rem;">
                    <!-- Publishing Area -->
                    <!-- /partials/pages/feed/compose-card.html -->
                    <!-- Post 1 -->
                    <!-- /partials/pages/feed/posts/feed-post1.html -->
                    <!-- POST #1 -->
                    <div class="page_head_topic" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1.5rem; border-radius: 12px; margin-bottom: 1.5rem; box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);"> Let's see what are we saying about <a style="color: white; font-weight: 600; text-decoration: underline;">{{ current_hashtag }}</a>
                        today...
                    </div>

                    <div class="profile-timeline" id="posts-container">
                        {% include "components/posts.html" %}
                    </div>
                    <!-- POST #1 -->

                    <!-- Load more posts -->
                    <div class="load-more-wrap narrow-top has-text-centered">
                        {% if page-1>0 %}
                        <a href="#" class="load-more-button"
                           onclick="window.location.href = '/hashtag_posts/{{hashtag_id}}/{{ page-1 }}';">Previous
                            Page</a>
                        {% endif %}
                        <a href="#" class="load-more-button"
                           onclick="window.location.href = '/hashtag_posts/{{hashtag_id}}/{{ page+1 }}';">Next Page</a>
                    </div>
                    <!-- /Load more posts  -->
                </div>
            </div>
        </div>
        <!-- /Feed page main wrapper -->
    </div>
</div>


<!-- Concatenated js plugins and jQuery -->
<script src="{{ url_for('static', filename='assets/js/app.js') }}"></script>
<script src="https://js.stripe.com/v3/"></script>

<!-- Core js -->
<script src="{{ url_for('static', filename='assets/js/global.js') }}"></script>

<!-- Navigation options js -->
<script src="{{ url_for('static', filename='assets/js/navbar-v1.js') }}"></script>
<script src="{{ url_for('static', filename='assets/js/navbar-v2.js') }}"></script>
<script src="{{ url_for('static', filename='assets/js/navbar-mobile.js') }}"></script>
<script src="{{ url_for('static', filename='assets/js/navbar-options.js') }}"></script>
<script src="{{ url_for('static', filename='assets/js/sidebar-v1.js') }}"></script>

<!-- Core instance js -->
<script src="{{ url_for('static', filename='assets/js/main.js') }}"></script>
<!-- <script src="{{ url_for('static', filename='assets/js/chat.js') }}"></script> -->
<script src="{{ url_for('static', filename='assets/js/touch.js') }}"></script>
<!-- <script src="{{ url_for('static', filename='assets/js/tour.js') }}"></script> -->

<!-- Components js -->
<!-- <script src="{{ url_for('static', filename='assets/js/explorer.js') }}"></script> -->
<script src="{{ url_for('static', filename='assets/js/widgets.js') }}"></script>
<!-- <script src="{{ url_for('static', filename='assets/js/modal-uploader.js') }}"></script> -->
<!-- <script src="{{ url_for('static', filename='assets/js/popovers-users.js') }}"></script> -->
<script src="{{ url_for('static', filename='assets/js/popovers-pages.js') }}"></script>
<script src="{{ url_for('static', filename='assets/js/lightbox.js') }}"></script>

<!-- Landing page js -->

<!-- Signup page js -->

<!-- Feed pages js -->
<!-- <script src="{{ url_for('static', filename='assets/js/feed.js') }}"></script> -->

<!-- profile js -->
<script src="{{ url_for('static', filename='assets/js/profile.js') }}"></script>

<script src="{{ url_for('static', filename='assets/js/async_updates.js') }}"></script>
<script src="{{ url_for('static', filename='assets/js/infinite-scroll.js') }}"></script>
<script>
    // Initialize infinite scroll for hashtag posts
    document.addEventListener('DOMContentLoaded', function() {
        if (window.InfiniteScroll) {
            InfiniteScroll.init({
                apiEndpoint: '/api/hashtag_posts/{{hashtag_id}}',
                postsContainerId: 'posts-container',
                initialPage: {{ page }}
            });
        }
    });
</script>

<!-- profile js -->

<!-- stories js -->

<!-- friends js -->

<!-- questions js -->

<!-- video js -->

<!-- events js -->

<!-- news js -->

<!-- shop js -->

<!-- inbox js -->

<!-- settings js -->

<!-- map page js -->

<!-- elements page js -->

</body>
</html>
